(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){"use strict";a.r(t);a(69);var n=a(0),l=a.n(n),o=a(21),i=a.n(o),r=a(4),s=a(5),c=a(8),u=a(6),h=a(7),d=a(2),p=a(22),m=a.n(p),f=a(3),v=a(29),g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleToogleClick=function(){var e=a.state.expanded;a.setState({expanded:!e})},a.state={expanded:e.expandedByDefault},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.children,n=this.state.expanded;return l.a.createElement("div",{className:"card ".concat(n?"_is-expanded":"")},l.a.createElement("div",{className:"card__header no-select",onClick:this.handleToogleClick},l.a.createElement("h3",null,t),n?l.a.createElement(v.b,null):l.a.createElement(v.a,null)),n&&l.a.createElement("div",{className:"card_body"},a))}}]),t}(n.PureComponent),b=a(10),C=a.n(b),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleGroupToggle=function(e){a.setState({openedGroup:e})},a.state={openedGroup:e.group||"Base"},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.children,a=this.state.openedGroup,n=l.a.Children.toArray(t);return l.a.createElement("div",{className:"tabs_container"},l.a.createElement("div",{className:"tabs__menu"},n.map(function(t){return t?l.a.createElement("div",{key:t.props.name,className:C()("no-select tabs__menu__item",{"_is-active":a===t.props.name}),onClick:function(){e.handleGroupToggle(t.props.name)}},t.props.name):null})),n.map(function(e){return e?l.a.createElement("div",{key:e.props.name,style:{display:a===e.props.name?"block":"none"}},e.props.children):null}))}}]),t}(n.PureComponent),E=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.title,n=e.group;return l.a.createElement(g,{title:a,expandedByDefault:!1},l.a.createElement(y,{group:n},t))}}]),t}(n.PureComponent),O=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.data;return l.a.createElement("div",{style:{overflow:"auto"}},l.a.createElement("pre",null,JSON.stringify(e)))}}]),t}(n.PureComponent);O.displayName="Text",(function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={svg:!0,fixed_x:!1,xRange:null,yRange:null,absPos:!1,pos:{x:0,y:0},rel:null,dragging:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"createTextChannels",value:function(e){return e.map(function(e){return l.a.createElement(O,{data:e.data})})}},{key:"createChannels",value:function(e){var t=this;return e.map(function(e){switch(e.plottype){case"line":var a=t.state.svg?f.e:f.f;return[e.mark?l.a.createElement(f.b,{customComponent:e.mark,data:e.data,style:{stroke:"red",fill:"orange"}}):null,l.a.createElement(a,{data:e.data,stroke:e.color})];case"bar":var n=t.state.svg?f.g:f.h;return l.a.createElement(n,{data:e.data,color:e.color,colorType:"literal"});default:return"Invalid plottype"}})}},{key:"createChartCtrl",value:function(e,t){var a=this,n=t.map(function(e){return l.a.createElement("option",{value:e},e)});return n=n.concat(l.a.createElement("option",{value:"new"},"New")),l.a.createElement(E,{title:"Chart settings",group:"Series"},l.a.createElement("div",{name:"Series"},e.map(function(e){return[l.a.createElement("div",null,l.a.createElement("div",null," Channel: ",e.id," "),l.a.createElement("div",null," Plottype: ",e.plottype," "),l.a.createElement("div",null," Display in panel: ",l.a.createElement("select",{value:e.tile,onInput:function(t){a.props.tileChanged(e.id,t.target)}},n)),l.a.createElement("div",null," Color:  ",l.a.createElement("input",{type:"color",id:"color",value:e.color,onInput:function(t){a.props.colorChanged(e.id,t.target)}})),l.a.createElement("button",{onClick:function(){a.props.togglePauseChannel(e)}},e.paused?"Resume Channel":"Pause Channel"),l.a.createElement("button",{onClick:function(){a.props.removeChannel(e.id)}},"Remove Channel"))]})),l.a.createElement("div",{name:"Display"},l.a.createElement("button",{onClick:function(){return a.setState({svg:!a.state.svg})}},this.state.svg?"Render on Canvas":"Render as svg"),l.a.createElement("div",null," Show only last: ",l.a.createElement("input",{type:"text",id:"xRange"}),l.a.createElement("button",{onClick:function(){var e=document.getElementById("xRange").value;"0"===e?a.setState({xRange:null}):a.setState({xRange:e})}},"Update")),l.a.createElement("div",null," Y Range min:",l.a.createElement("input",{type:"text",id:"yRangeMin"}),"max: ",l.a.createElement("input",{type:"text",id:"yRangeMax"}),l.a.createElement("button",{onClick:function(){var e=document.getElementById("yRangeMin").value,t=document.getElementById("yRangeMax").value;""===e&&(e=null),""===t&&(t=null);var n=null;null===e&&null===t||(n=[e,t]),a.setState({yRange:n})}},"Update"),l.a.createElement("button",{onClick:function(){a.setState({yRange:null}),document.getElementById("yRangeMin").value="",document.getElementById("yRangeMax").value=""}},"Clear"))))}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.channels,n=e.tileIDs,o=e.height,i=e.width,r=this.state.xRange,s=0,c=0,u=!1,h=0,d=[];a.forEach(function(e){e.data.length>0&&(s=Math.min(s,e.data[0].x),c=Math.max(c,e.data[e.data.length-1].x)),"bar"===e.plottype&&(u=!0),"text"===e.plottype&&d.push(e)});var p=a.filter(function(e){return"text"!==e.plottype});return null!==r?(s=Math.max(0,c-r),h=c-s>20?null:c-s):s=Math.max(0,c-10),c=Math.max(10,c),l.a.createElement("div",{className:"tile"},"Chart number: ",t,l.a.createElement(f.d,{width:i,height:o,dontCheckIfEmpty:!1,xType:u?"ordinal":"linear",xDomain:this.state.xRange?[s,c]:null,yDomain:this.state.yRange,margin:{left:80,right:40}},this.createChannels(p),l.a.createElement(f.a,{style:{bottom:{fill:"#fff"},left:{fill:"#fff"},right:{fill:"#fff"},top:{fill:"#fff"}}}),l.a.createElement(f.j,{tickTotal:this.state.xRange?h:null}),l.a.createElement(f.k,null)),l.a.createElement("div",{className:"textPlots"},this.createTextChannels(d)),l.a.createElement("div",{className:"chartCtrl"},this.createChartCtrl(a,n)))}}]),t}(n.PureComponent)).defaultProps={channel:"",color:"black"},(function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"createTextChannels",value:function(e){return e.map(function(e){return console.log("create Text Channels: ",e.data),l.a.createElement(O,{data:e.data})})}},{key:"createChartCtrl",value:function(e,t){var a=this;return l.a.createElement(E,{title:"TextOutput settings",group:"Text series"},l.a.createElement("div",{name:"Text series"},e.map(function(e){return[l.a.createElement("div",null,l.a.createElement("div",null," Channel: ",e.id," "),l.a.createElement("div",null," Color:  ",l.a.createElement("input",{type:"color",id:"color",value:e.color,onInput:function(t){a.props.colorChanged(e.id,t.target)}})),l.a.createElement("button",{onClick:function(){a.props.togglePauseChannel(e)}},e.paused?"Resume Channel":"Pause Channel"),l.a.createElement("button",{onClick:function(){a.props.removeChannel(e.id)}},"Remove Channel"))]})),l.a.createElement("div",{name:"Display"},"TODO"))}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.textChannels,n=e.tileIDs;return console.log("Render textOutput"),l.a.createElement("div",{className:"text-tile"},"TextOutput number: ",t,l.a.createElement("div",{className:"textSeries"},this.createTextChannels(a)),l.a.createElement("div",{className:"chartCtrl"},this.createChartCtrl(a,n)))}}]),t}(n.PureComponent)).defaultProps={channel:"",color:"black",width:200,height:100};var j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){var t=this;console.log(e.target.files);var a=new FileReader;a.onload=function(e){console.log("loaded: ",e.target.result);var a=JSON.parse(e.target.result);t.props.layoutLoaded(a)},a.readAsText(e.target.files[0])}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("input",{type:"file",onChange:this.handleChange,accept:".json"}))}}]),t}(n.PureComponent),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSave=a.onSave.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onSave",value:function(){var e=JSON.stringify(this.props.layout,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),n=document.getElementById("downloadAnchorElem");n.setAttribute("href",a),n.setAttribute("download","layout.json"),n.click()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("button",{onClick:this.onSave},"Save Config"),l.a.createElement("a",{id:"downloadAnchorElem",style:{display:"none"}}))}}]),t}(n.PureComponent),k=function(e){function t(e,a){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e,a))).state={selectedID:null},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.moduleList;return l.a.createElement("div",null,l.a.createElement("div",{className:"module-selection"},t.map(function(t){return l.a.createElement("div",{key:t.id,className:C()("module",{selected:t.id===e.state.selectedID}),onClick:function(a){e.setState({selectedID:t.id})}},l.a.createElement("img",{src:t.img,alt:"Test",width:80}),l.a.createElement("span",null,t.name))})),l.a.createElement("button",{onClick:function(){e.props.addModule(e.state.selectedID)}},"Add Module"))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).newChannel=a.newChannel.bind(Object(d.a)(Object(d.a)(a))),a.addSimpleChannel=a.addSimpleChannel.bind(Object(d.a)(Object(d.a)(a))),a.probeConnection=a.probeConnection.bind(Object(d.a)(Object(d.a)(a))),a.createChannelSettings=a.createChannelSettings.bind(Object(d.a)(Object(d.a)(a))),a.createSingleChannelSettings=a.createSingleChannelSettings.bind(Object(d.a)(Object(d.a)(a))),a.activateChannel=a.activateChannel.bind(Object(d.a)(Object(d.a)(a))),a.removeChannel=a.removeChannel.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"activateChannel",value:function(e){var t=document.getElementById("connection").value,a=Number(e.target.id.split("_")[0]),n=document.getElementById(a+"_key").value,l=document.getElementById(a+"_plottype").value,o=document.getElementById(a+"_color").value,i=document.getElementById(a+"_tile").value;this.props.updateChannel(t,a,n,l,o,i)}},{key:"removeChannel",value:function(e){var t=e.target.id.split("_")[0];this.props.removeChannel(t)}},{key:"newChannel",value:function(){var e=document.getElementById("connection").value;this.props.addNewChannel(e)}},{key:"addSimpleChannel",value:function(){var e=document.getElementById("channel").value,t=document.getElementById("plottype").value,a=document.getElementById("color").value,n=document.getElementById("tile").value;this.props.addSimpleChannel(e,t,a,n)}},{key:"probeConnection",value:function(){var e=document.getElementById("connection").value;this.props.probeConnection(e)}},{key:"createSingleChannelSettings",value:function(e){return l.a.createElement("div",null,"Channel ",e.id,": Key: ",l.a.createElement("input",{type:"text",id:e.id+"_key",defaultValue:e.key}),"Plottype: ",l.a.createElement("select",{id:e.id+"_plottype",onChange:this.props.changePlottype,defaultValue:e.plottype?e.plottype:"line"},l.a.createElement("option",{value:"line"},"Lineplot"),l.a.createElement("option",{value:"bar"},"Barplot"),l.a.createElement("option",{value:"text"},"Text")),"Color:  ",l.a.createElement("input",{type:"color",id:e.id+"_color",defaultValue:e.color}),"Panel: ",l.a.createElement("select",{id:e.id+"_tile",defaultValue:e.tile>=0?e.tile:"new"},this.options),l.a.createElement("button",{id:e.id+"_activateBtn",onClick:this.activateChannel},"Activate"),l.a.createElement("button",{id:e.id+"_removeBtn",onClick:this.removeChannel},"Remove"))}},{key:"createChannelSettings",value:function(){return this.props.advancedChannels.map(this.createSingleChannelSettings)}},{key:"render",value:function(){var e=this.props.tiles.map(function(e){return l.a.createElement("option",{value:e.id},e.id)});return e=e.concat(l.a.createElement("option",{value:"new"},"New")),this.options=e,l.a.createElement(g,{title:"Channel Control",expandedByDefault:!0},l.a.createElement(y,{group:"Simple"},l.a.createElement("div",{name:"Simple"},"Channel: ",l.a.createElement("input",{type:"text",id:"channel"}),"Plottype: ",l.a.createElement("select",{id:"plottype",onChange:this.props.changePlottype},l.a.createElement("option",{value:"line"},"Lineplot"),l.a.createElement("option",{value:"bar"},"Barplot"),l.a.createElement("option",{value:"text"},"Text")),"Color:  ",l.a.createElement("input",{type:"color",id:"color"}),"Add to panel: ",l.a.createElement("select",{id:"tile"},e),l.a.createElement("button",{onClick:this.addSimpleChannel},"Add Channel")),l.a.createElement("div",{name:"Advanced"},"Input connection: ",l.a.createElement("input",{type:"text",id:"connection"}),l.a.createElement("button",{onClick:this.probeConnection},"Try listen"),l.a.createElement("div",null,JSON.stringify(this.props.probeMessage)),l.a.createElement("div",{className:"channelList"},"Current Channels for this connection:",this.createChannelSettings(),l.a.createElement("button",{onClick:this.newChannel},"Add channel to this connection"))),l.a.createElement("div",{name:"Config-Layout"},l.a.createElement(j,{layoutLoaded:this.props.layoutLoaded}),l.a.createElement(S,{layout:this.props.layout})),l.a.createElement("div",{name:"Options"},"Header: ",l.a.createElement("input",{type:"text",id:"header",onChange:this.props.headerChanged,value:this.props.header})),l.a.createElement("div",{name:"Modules"},l.a.createElement(k,{moduleList:this.props.modules,addModule:this.props.addModule}))))}}]),t}(n.PureComponent),T=a(28),x=a.n(T),N=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.children?l.a.createElement("div",Object.assign({},this.props,{className:C()("element",this.props.className)}),l.a.createElement("div",{className:"element_handle"},this.props.id),this.props.children):null}}]),t}(n.Component),P=a(12);function M(e,t,a){var n=e[a.dataKeys[0].val].map(function(e,a){return a>t?[]:{x:a,y:e}});return l.a.createElement(f.e,{key:a.dataKeys[0].val,data:n,stroke:a.color,strokeDasharray:a.strokes})}var D=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=e.lines,o=e.vlines;return l.a.createElement(f.d,{width:t,height:a,dontCheckIfEmpty:!0,margin:{left:60,right:30}},n,l.a.createElement(f.a,{style:{bottom:{fill:"#fff"},left:{fill:"#fff"},right:{fill:"#fff"},top:{fill:"#fff"}}}),n.length>0?l.a.createElement(f.j,null):null,n.length>0?l.a.createElement(f.k,null):null,l.a.createElement(f.i,{tickValues:o}))}}]),t}(n.PureComponent);D.defaultProps={width:600,height:400,lines:[],vlines:[]};var B=Object(P.b)(function(e,t){var a=e.data,n=[],l=t.config;for(var o in l){var i=a.channels[l[o].channel];i&&i[l[o].dataKeys[0].val]&&n.push(M(i,e.data.stepNr,l[o]))}return{lines:n,vlines:[]}})(D);function I(e,t,a){var n=[],o=e[a.dataKeys[0].val],i=Object.prototype.toString.call(o);if(t&&(o=o[t]),"[object Array]"==i)n=o.map(function(e,t){return{x:e[0],y:e[1]}});else if("[object Object]"==i)for(var r in o)n.push({x:r,y:o[r]});return l.a.createElement(f.g,{key:a.dataKeys[0].val,data:n,color:a.color})}var V=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=e.bars;return l.a.createElement(f.d,{width:t,height:a,dontCheckIfEmpty:!0,margin:{left:60,right:100},xType:"ordinal",yDomain:[0,1]},n,l.a.createElement(f.a,{style:{bottom:{fill:"#fff"},left:{fill:"#fff"},right:{fill:"#fff"},top:{fill:"#fff"}}}),n.length>0?l.a.createElement(f.j,null):null,n.length>0?l.a.createElement(f.k,null):null)}}]),t}(n.PureComponent),_=Object(P.b)(function(e,t){var a=e.data,n=[],l=t.config;for(var o in l){var i=a.channels[l[o].channel];i&&i[l[o].dataKeys[0].val]&&n.push(I(i,e.stepNr,l[o]))}return{bars:n}})(V),R=a(64),L=a.n(R);a(123);var A=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleChangeSlider=function(e){a.props.onSliderChange(e)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.min,a=e.max,n=e.value;console.log("max val: ",a);return l.a.createElement("div",{className:"slider custom-labels"},l.a.createElement(L.a,{min:t,max:a,value:n,labels:{0:"",50:"",100:""},l:n,onChange:this.handleChangeSlider}),l.a.createElement("div",{className:"value"},n))}}]),t}(n.PureComponent),K=A,U=Object(P.b)(function(e,t){var a=e.data,n=t.config[0],l=1/0,o=a.channels[n.channel];o&&o[n.dataKeys[0].val]&&(l=o[n.dataKeys[0].val].length);var i=l;return e.data.stepNr&&(i=e.data.stepNr),{min:0,max:l,value:i}},function(e){return{onSliderChange:function(t){e({type:"SET_STEPNR",stepNr:t})}}})(A),G=a(11),H=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.sourceInformation,o=t.curVals,i=t.allowRemoval,r=[];for(var s in n){var c=o[s];if("[object Array]"==Object.prototype.toString.call(c))for(var u=function(){var t=c[h],n=h;r.push(l.a.createElement("span",null,t.name," : ",l.a.createElement("input",{type:"text",id:t.name,value:t.val,onChange:function(t){return e.props.updateValues(t,"dataConfig",a,n,"val")}}),null!==t.log?["Log :",l.a.createElement("input",{type:"checkbox",id:t.name,value:t.log,checked:t.log,onChange:function(t){return e.props.updateValues(t,"dataConfig",a,n,"log")}})]:null))},h=0;h<c.length;h++)u();else"color"==s?r.push(l.a.createElement("span",null,s," : ",l.a.createElement("input",{type:"color",id:s,value:c,onChange:function(t){return e.props.updateValues(t,"dataConfig",a)}}),"  ")):r.push(l.a.createElement("span",null,s," : ",l.a.createElement("input",{type:"text",id:s,value:c,onChange:function(t){return e.props.updateValues(t,"dataConfig",a)}}),"  "))}return l.a.createElement("div",{className:"bordered vflex margin"},a,r,l.a.createElement("button",{onClick:function(){e.props.removeDataSource(a)},disabled:!i},"Remove Source"))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={dataConfig:{0:JSON.parse(JSON.stringify(e.moduleInformation.dataSrc))},moduleConfig:{title:e.moduleInformation.title,width:e.moduleInformation.width,height:e.moduleInformation.height},idCounter:0},a.removeDataSource=a.removeDataSource.bind(Object(d.a)(Object(d.a)(a))),a.updateValues=a.updateValues.bind(Object(d.a)(Object(d.a)(a))),a.handleClickOutside=a.handleClickOutside.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"handleClickOutside",value:function(e){this.containerDiv.contains(e.target)||this.props.closeConfig()}},{key:"updateValues",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=Object(G.a)({},this.state),i=Object(G.a)({},o[t]),r=e.target.id,s="log"===l?e.target.checked:e.target.value,c=i;null!==a&&(c=c[a]),null!==n&&(c=c.dataKeys[n]),null===l?c[r]=s:c[l]=s,o[t]=i,this.setState(o)}},{key:"addDataSource",value:function(){var e=this.state.idCounter+1,t=Object(G.a)({},this.state);console.log("new state: ",t),t.idCounter=e,t.dataConfig[e]=JSON.parse(JSON.stringify(this.props.moduleInformation.dataSrc)),this.setState(t)}},{key:"removeDataSource",value:function(e){var t=Object(G.a)({},this.state);console.log("new state: ",t),delete t.dataConfig[e],this.setState(t)}},{key:"createDataSrcInputs",value:function(e){var t=[];for(var a in this.state.dataConfig)t.push(l.a.createElement(H,{key:a,id:a,sourceInformation:e,curVals:this.state.dataConfig[a],removeDataSource:this.removeDataSource,updateValues:this.updateValues,allowRemoval:Object.keys(this.state.dataConfig).length>1}));return t}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.moduleInformation;return l.a.createElement("div",{className:"moduleConfig",ref:function(t){return e.containerDiv=t}},l.a.createElement("div",{className:"vflex"},l.a.createElement("h4",null,n.type),l.a.createElement("span",null,"Title: ",l.a.createElement("input",{type:"text",id:"title",value:this.state.moduleConfig.title,onChange:function(t){return e.updateValues(t,"moduleConfig")}})," "),l.a.createElement("span",null,"Width # Cols: ",l.a.createElement("input",{type:"text",id:"width",value:this.state.moduleConfig.width,onChange:function(t){return e.updateValues(t,"moduleConfig")}})," "),l.a.createElement("span",null,"Height # Rows: ",l.a.createElement("input",{type:"text",id:"height",value:this.state.moduleConfig.height,onChange:function(t){return e.updateValues(t,"moduleConfig")}})),l.a.createElement("div",{className:"borderedContainer"},this.createDataSrcInputs(n.dataSrc),n.allowMultipleSources?l.a.createElement("button",{onClick:function(){e.addDataSource()}},"Add Data Source"):""),a,l.a.createElement("button",{onClick:function(){e.props.createModule(n.type,Object(G.a)({},e.state))}},"Create Module")))}}]),t}(n.Component);var W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).state={channels:{}},a.updateData=a.updateData.bind(Object(d.a)(Object(d.a)(a))),a.sendMessage=a.sendMessage.bind(Object(d.a)(Object(d.a)(a))),a.addConnection=a.addConnection.bind(Object(d.a)(Object(d.a)(a))),a.removeConnection=a.removeConnection.bind(Object(d.a)(Object(d.a)(a))),a._updateStore=a._updateStore.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.socket=m.a.connect("http://localhost:5000",{transport:["websocket"]}),this.socket.on("connect",function(){console.log("Connected")}),this.socket.on("update_data",this.updateData),this.props.addConnection(this.addConnection),this.props.removeConnection(this.removeConnection),console.log("send adding message");var e={type:"ADD_MSG_FNC",payload:this.sendMessage};this.props.dispatch(e)}},{key:"sendMessage",value:function(e,t){this.socket.emit("message",e,JSON.stringify(t))}},{key:"updateData",value:function(e){console.log("Received Message: ",e);var t=e.connection;if(t in this.state.channels)for(var a=this.state.channels[t],n=0;n<a.length;n++){var l=a[n].val,o=a[n].log;l in e&&this._updateStore(t,l,e[l],o)}}},{key:"_updateStore",value:function(e,t,a,n){if(null!==n){var l={type:n?"UPDATE_CHANNEL_ADD":"UPDATE_CHANNEL_REPLACE",channel:e,dataKey:t,payload:a};this.props.dispatch(l)}}},{key:"addConnection",value:function(e){var t=e.channel;this.socket.emit("add_connection",t);var a=Object(G.a)({},this.state.channels);a[t]?a[t]=a[t].concat(e.dataKeys):a[t]=e.dataKeys,this.state=Object(G.a)({},this.state,{channels:a}),this.setState(this.state)}},{key:"removeConnection",value:function(e,t){var a={type:"CLEAN_CHANNEL",channel:e,dataKeys:t};this.props.dispatch(a);var n=Object(G.a)({},this.state.channels),l=n[e].filter(function(e){for(var a=0;a<t.length;a++){var n=t[a];if(e.val!==n.val)return e}});n[e]=l,0===l.length&&this.socket.emit("remove_connection",e),this.state=Object(G.a)({},this.state,{channels:n}),this.setState(this.state)}},{key:"render",value:function(){return null}}]),t}(n.Component),F=Object(P.b)(null,function(e){return{dispatch:e}})(W),z=function(e){function t(e,a){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e,a))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"componentDidUpdate",value:function(e,t,a){this.updateCanvas()}},{key:"renderMap",value:function(){var e=this,t=this.props.map.map,a=this.refs[this.props.bgname],n=a.getContext("2d"),l=a.width,o=a.height,i=Math.min(Math.floor(l/t[0].length),Math.floor(o/t.length));a.width=i*t[0].length,a.height=i*t.length,n.clearRect(0,0,a.width,a.height);var r=this.renderTile,s=this.props.showTrueTarget,c=this.props.showBeliefSymbols,u=this.props.map.goalPos,h=this.props.map.targets,d=this.props.beliefs?this.props.beliefs.goal:null,p=this.props.beliefs?this.props.beliefs.world:null,m=this.props.showVisibles,f=this.props.showBeliefedVision,v=this.props.visibles;if(v&&(m||f&&"FreeSpace"===p)?(n.fillStyle="black",n.fillRect(0,0,a.width,a.height),v.forEach(function(e){var a=Object.assign({},t[e[0]][e[1]]);r(n,a,i,e[1],e[0])})):t.forEach(function(e,t,a){e.forEach(function(e,a,l){e=Object.assign({},e),s&&t===u[0]&&a===u[1]&&(e.color="green",e.symbol="T"),r(n,e,i,a,t)})}),c&&d)for(var g=0;g<h.length;g++){var b=h[g].key,C=Object.assign({},t[b[0]][b[1]]);C.symbol=d[g],C.color="lightblue",r(n,C,i,b[1],b[0])}d&&h.forEach(function(t,a){var l=t.key,o=(t.val.symbol,d[a]);if(o==e.props.beliefs.desire){var s=Object.assign({},t.val);s.color="lightgreen",s.symbol=o,r(n,s,i,l[1],l[0])}}),this.props.showTargets&&h.forEach(function(t){var a=t.key,l=(t.val.symbol,Object.assign({},t.val));if(!e.props.showTrueColor){var o=!0;if(v)for(var c in v)v[c][0]==a[0]&&v[c][1]==a[1]&&(o=!1);o&&(console.log("render green"),l.color="green",l.symbol="")}s&&a[0]==u[0]&&a[1]==u[1]&&(l.symbol="T"),r(n,l,i,a[1],a[0])}),this.tileSize=i}},{key:"renderTile",value:function(e,t,a,n,l){e.fillStyle=""===t.color?"rgba(255,255,255,1)":t.color,e.fillRect(n*a,l*a,a,a),e.font=.8*a+"px Ariel",e.fillStyle="black",e.fillText(t.symbol,n*a+.2*a,l*a+.8*a)}},{key:"renderAgent",value:function(){var e=this.tileSize,t=this.props.pos[1],a=this.props.pos[0],n=this.refs[this.props.bgname].getContext("2d");n.strokeStyle="black",n.beginPath();var l=t*e+e/2,o=a*e+e/2;n.arc(l,o,.4*e,0,2*Math.PI),n.fillStyle="yellow",n.fill(),n.stroke();var i=e/16;n.fillStyle="black",n.beginPath(),n.arc(l-e/7,o-e/12,i,0,2*Math.PI),n.fill(),n.stroke(),n.beginPath(),n.arc(l+e/7,o-e/12,i,0,2*Math.PI),n.fill(),n.stroke(),n.beginPath(),n.arc(l,o,e/5,5*Math.PI/6,1*Math.PI/6,!0),n.stroke()}},{key:"renderPath",value:function(){var e=this.refs[this.props.bgname],t=this.tileSize,a=this.props.traj,n=e.getContext("2d");n.strokeStyle="red",n.beginPath(),a.forEach(function(e,a,l){var o=e[1]*t+t/2,i=e[0]*t+t/2;0==a?n.moveTo(o,i):n.lineTo(o,i)}),n.stroke()}},{key:"updateCanvas",value:function(){this.props.map&&(this.renderMap(),this.props.showPath&&this.renderPath(),this.renderAgent())}},{key:"render",value:function(){var e=this.props,t=e.bgname,a=(e.fgname,e.width),n=e.height;return l.a.createElement("div",null,l.a.createElement("canvas",{ref:t,width:a,height:n}))}}]),t}(n.PureComponent),q=function(e){function t(e,a){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e,a))).state={showTargets:!e.beliefs,showTrueColor:!e.beliefs,showTrueTarget:!1,showBeliefSymbols:!!e.beliefs,showPath:!1,showVisibles:!1,showBeliefedVision:!1,showSeenColor:!1,visiblesUpdated:!1},n.onChangeShowTargets=n.onChangeShowTargets.bind(Object(d.a)(Object(d.a)(n))),n.onChangeShowTrueColor=n.onChangeShowTrueColor.bind(Object(d.a)(Object(d.a)(n))),n.onChangeShowTrueTarget=n.onChangeShowTrueTarget.bind(Object(d.a)(Object(d.a)(n))),n.onChangeShowBeliefSymbols=n.onChangeShowBeliefSymbols.bind(Object(d.a)(Object(d.a)(n))),n.onChangeShowPath=n.onChangeShowPath.bind(Object(d.a)(Object(d.a)(n))),n.onChangeShowVisibles=n.onChangeShowVisibles.bind(Object(d.a)(Object(d.a)(n))),n.onChangeShowBeliefedVision=n.onChangeShowBeliefedVision.bind(Object(d.a)(Object(d.a)(n))),n.onChangeShowSeenColor=n.onChangeShowSeenColor.bind(Object(d.a)(Object(d.a)(n))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onChangeShowTargets",value:function(){this.setState({showTargets:!this.state.showTargets})}},{key:"onChangeShowTrueColor",value:function(){this.setState({showTrueColor:!this.state.showTrueColor})}},{key:"onChangeShowTrueTarget",value:function(){this.setState({showTrueTarget:!this.state.showTrueTarget})}},{key:"onChangeShowBeliefSymbols",value:function(){this.setState({showBeliefSymbols:!this.state.showBeliefSymbols})}},{key:"onChangeShowPath",value:function(){this.setState({showPath:!this.state.showPath})}},{key:"onChangeShowVisibles",value:function(){this.props.requestVisibles(),this.setState({showVisibles:!this.state.showVisibles,visiblesUpdated:!0})}},{key:"onChangeShowBeliefedVision",value:function(){this.props.requestVisibles(),this.setState({visiblesUpdated:!0,showBeliefedVision:!this.state.showBeliefedVision})}},{key:"onChangeShowSeenColor",value:function(){this.props.requestVisibles(),this.setState({visiblesUpdated:!0,showSeenColor:!this.state.showSeenColor})}},{key:"render",value:function(){var e=this.props,t=e.bgname,a=(e.fgname,e.width),n=e.height,o=e.conditionName,i=e.pos,r=e.map,s=e.traj,c=e.visibles,u=e.beliefs;return console.log("experiment view props: ",this.props),l.a.createElement("div",null,l.a.createElement("div",{className:"condition"},o),l.a.createElement(z,{width:a,height:n,map:r,bgname:t,showTargets:this.state.showTargets,showTrueTarget:this.state.showTrueTarget,showTrueColor:this.state.showTrueColor,showBeliefSymbols:this.state.showBeliefSymbols,showVisibles:this.state.showVisibles,showBeliefedVision:this.state.showBeliefedVision,showPath:this.state.showPath,visibles:c,visiblesUpdated:this.state.visiblesUpdated,beliefs:u,traj:s,pos:i}),l.a.createElement("div",{className:"controls flex"},l.a.createElement("div",null,"Show Targets:",l.a.createElement("input",{type:"checkbox",defaultChecked:this.state.showTargets,checked:this.state.showTargets,onChange:this.onChangeShowTargets})),l.a.createElement("div",null,"Show True Color:",l.a.createElement("input",{type:"checkbox",defaultChecked:this.state.showTrueColor,checked:this.state.showTrueColor,onChange:this.onChangeShowTrueColor})),l.a.createElement("div",null,"Show True Target:",l.a.createElement("input",{type:"checkbox",defaultChecked:this.state.showTrueTarget,checked:this.state.showTrueTarget,onChange:this.onChangeShowTrueTarget})),l.a.createElement("div",null,"Show Belief Symbols:",l.a.createElement("input",{type:"checkbox",defaultChecked:this.state.showBeliefSymbols,checked:this.state.showBeliefSymbols,onChange:this.onChangeShowBeliefSymbols})),l.a.createElement("div",null,"Show Seen Color:",l.a.createElement("input",{type:"checkbox",defaultChecked:this.state.showSeenColor,checked:this.state.showSeenColor,onChange:this.onChangeShowSeenColor})),this.props.traj?l.a.createElement("div",null,"Show Path:",l.a.createElement("input",{type:"checkbox",defaultChecked:this.state.showPath,checked:this.state.showPath,onChange:this.onChangeShowPath})):"",this.props.beliefs?l.a.createElement("div",null,"Show Visible area:",l.a.createElement("input",{type:"checkbox",defaultChecked:this.state.showVisibles,checked:this.state.showVisibles,onChange:this.onChangeShowVisibles})):"",this.props.beliefs?l.a.createElement("div",null,"Show Beliefed Vision:",l.a.createElement("input",{type:"checkbox",defaultChecked:this.state.showBeliefedVision,checked:this.state.showBeliefedVision,onChange:this.onChangeShowBeliefedVision})):""))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.visibles&&0!==e.visibles.length||t.visiblesUpdated?{visiblesUpdated:!1}:{showVisibles:!1,visiblesUpdated:!1,showBeliefedVision:!1}}}]),t}(n.Component);var X=Object(P.b)(function(e,t){console.log("State: ",e);var a=e.data,n=t.config[0],l=a.channels[n.channel];e.data.sendMessage(n.channel,{selection:{condition:"condMap1_C2_V1",runNr:1,methods:{twg:!0}}});var o=0;return l&&l[n.dataKeys[0].val]?(l=l[n.dataKeys[0].val],o=a.stepNr?a.stepNr:l.agentPositions.length-1,{bgname:"bg",fgname:"fb",conditionName:"TO FIX",pos:l.agentPositions[o],map:{map:l.map,targets:l.targets,goalPos:l.goalPos},traj:l.agentPositions.slice(0,o+1),visibles:l.visibles?l.visibles[o]:[],beliefs:l.sampling?l.sampling.sampleList[o][0]:null}):{}})(q),Y=[{id:1,name:"LinePlot",img:null},{id:2,name:"BarPlot",img:null},{id:3,name:"Gridworld",img:null},{id:4,name:"Slider",img:null},{id:5,name:"ExperimentView",img:null}],Q={1:{type:"LinePlot",dataSrc:{channel:"tcp:9080",dataKeys:[{name:"Payload key",val:"y",log:!0}],color:"black",strokes:""},title:"LinePlot",width:10,height:6,allowMultipleSources:!0},2:{type:"BarPlot",dataSrc:{channel:"tcp:9080",dataKeys:[{name:"Payload key",val:"dist",log:!1}],color:"black"},title:"BarPlot",width:10,height:6,allowMultipleSources:!0},4:{type:"Slider",dataSrc:{channel:"tcp:9080",dataKeys:[{name:"Payload key",val:"y",log:null}]},title:"Slider",width:10,height:2,allowMultipleSources:!1},5:{type:"ExperimentView",dataSrc:{channel:"zmq:5057",dataKeys:[{name:"Run Data",val:"runData",log:!1}]},title:"ExperimentView",width:10,height:6,allowMultipleSources:!1}},Z={LinePlot:B,BarPlot:_,Slider:U,ExperimentView:X},$=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={tiles:[],tileIDCounter:0,layout:[{i:"12",w:4,h:3,x:0,y:0}],moduleConfig:null,colWidth:100,rowHeight:20},a.connectionMap={},a.addModule=a.addModule.bind(Object(d.a)(Object(d.a)(a))),a.closeConfig=a.closeConfig.bind(Object(d.a)(Object(d.a)(a))),a.createModule=a.createModule.bind(Object(d.a)(Object(d.a)(a))),a.createTile=a.createTile.bind(Object(d.a)(Object(d.a)(a))),a.onLayoutChange=a.onLayoutChange.bind(Object(d.a)(Object(d.a)(a))),a.layoutLoaded=a.layoutLoaded.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"closeConfig",value:function(){this.setState({moduleConfig:null})}},{key:"addModule",value:function(e){console.log("Should add module: ",e),console.log("New state: ",this.state),this.setState({moduleConfig:Q[e]})}},{key:"createModule",value:function(e,t){console.log("Should create module: "+e+" with config: ",t);var a=this.state.tiles,n={id:this.state.tileIDCounter,title:t.moduleConfig.title,type:e,dataSources:JSON.parse(JSON.stringify(t.dataConfig))},l=this.state.layout;for(var o in l.push({i:n.id.toString(),w:parseInt(t.moduleConfig.width),h:parseInt(t.moduleConfig.height),x:0,y:1/0}),a.push(n),this.setState({tiles:a,layout:l,tileIDCounter:n.id+1,moduleConfig:null}),t.dataConfig){var i=t.dataConfig[o];this.connectionMap[i.channel]?-1==this.connectionMap[i.channel].indexOf(n.id)&&this.connectionMap[i.channel].push(n.id):this.connectionMap[i.channel]=[n.id],this.addConnection(i)}console.log("ConnectionMap after adding: ",this.connectionMap)}},{key:"layoutLoaded",value:function(e){this.setState({layout:e})}},{key:"onLayoutChange",value:function(e){this.setState({layout:e})}},{key:"removeTile",value:function(e){console.log("should remove tile: ",e);var t=null,a=this.state.tiles.filter(function(a){if(a.id!==e)return a;t=a});for(var n in console.log("remvoedTile: ",t),console.log("conmap before: ",this.connectionMap),t.dataSources){var l=t.dataSources[n],o=this.connectionMap[l.channel].indexOf(t.id);console.log("idx: ",o),o>-1&&this.connectionMap[l.channel].splice(o,1),this.removeConnection(l.channel,l.dataKeys)}console.log("conmap after: ",this.connectionMap);var i=this.state.layout.filter(function(t){if(t.i!==e)return t});this.setState({layout:i,tiles:a})}},{key:"createDataSourceControl",value:function(e){console.log("sources: ",e);var t=[];for(var a in e){var n=[];for(var o in e[a]){var i=e[a][o];n.push(l.a.createElement("span",null,o," : ",l.a.createElement("input",{type:"text",id:o,value:i})))}t.push(l.a.createElement("div",{name:"Data Source "+a},n))}return console.log("blocks: ",t),t}},{key:"createTile",value:function(e){var t=this,a=Z[e.type],n=this.state.layout.filter(function(t){if(t.i==e.id)return t})[0],o=this.state.colWidth,i=this.state.rowHeight;return l.a.createElement(N,{key:e.id.toString(),id:e.title,"data-grid":n},l.a.createElement(a,{width:parseInt(n.w)*o,height:parseInt(n.h)*i,config:e.dataSources}),l.a.createElement(E,{title:"Module settings",group:"General"},l.a.createElement("div",{name:"General"},l.a.createElement("button",{onClick:function(){t.removeTile(e.id)}},"Remove Module")),this.createDataSourceControl(e.dataSources).map(function(e){return e})))}},{key:"render",value:function(){var e=this,t=this.props.children,a=this.state.tiles,n=.95*window.innerWidth,o=Math.floor(n/this.state.colWidth);return l.a.createElement("div",null,l.a.createElement(F,{addConnection:function(t){return e.addConnection=t},removeConnection:function(t){return e.removeConnection=t}}),l.a.createElement("div",{className:"header"},this.state.header?l.a.createElement("div",{className:"title"},l.a.createElement("h1",null," ",this.state.header," ")):"",l.a.createElement("div",{className:"ctrl"},l.a.createElement(w,{addSimpleChannel:this.addSimpleChannel,changePlottype:this.selectPlottype,probeConnection:this.probeConnection,tiles:a,advancedChannels:[],probeMessage:this.state.probeMessage,addNewChannel:this.addNewChannel,updateChannel:this.updateChannel,removeChannel:this.removeChannel,layout:this.state.layout,layoutLoaded:this.layoutLoaded,header:this.state.header,headerChanged:this.headerChanged,modules:Y,addModule:this.addModule}))),t,null===this.state.moduleConfig?"":l.a.createElement(J,{moduleInformation:this.state.moduleConfig,createModule:this.createModule,closeConfig:this.closeConfig}),l.a.createElement(x.a,{className:"layout",layout:this.state.layout,cols:o,rowHeight:this.state.rowHeight,width:n,draggableHandle:".element_handle",onLayoutChange:this.onLayoutChange},a.map(this.createTile)))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).optionChanged=a.optionChanged.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"optionChanged",value:function(e){this.option=e.target.value}},{key:"componentDidMount",value:function(){this.props.count>0&&(this.option=1)}},{key:"render",value:function(){for(var e=this,t=this.props,a=t.name,n=t.count,o=[],i=1;i<=n;i++)o.push(l.a.createElement("option",{key:i,value:i},i));return l.a.createElement("li",null,l.a.createElement("span",null,l.a.createElement("span",{name:"conditionName"},a),l.a.createElement("span",{align:"right"},l.a.createElement("select",{id:"visSelect_"+a,onChange:this.optionChanged},o)),l.a.createElement("span",null,l.a.createElement("input",{id:"btn"+a,type:"button",value:"Visualize",onClick:function(){return e.props.onSelect(a,e.option)}}))))}}]),t}(n.Component),te=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onClick",value:function(e){console.log("Button clicked: ",e)}},{key:"create_list",value:function(e){var t=this,a=[];for(var n in e)a=a.concat([n]);return(a=a.sort(function(e,t){return e.localeCompare(t,"en",{numeric:!0})})).map(function(a){return l.a.createElement(ee,{key:a,onSelect:t.props.onSelect,name:a,count:e[a]})})}},{key:"render",value:function(){var e=this.props.conditions;return l.a.createElement("div",{className:"condition-list"},l.a.createElement("ul",null,this.create_list(e)))}}]),t}(n.Component),ae=a(65),ne=a.n(ae),le=a(66),oe=a.n(le),ie=a(67),re=a.n(ie),se=function(e){function t(e,a){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e,a))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.curModel,t=C()("model","selected"),a=C()("model");return console.log("cur model: ",e),l.a.createElement("div",{className:"model-vis"},l.a.createElement("div",{className:"TWG"==e?t:a},l.a.createElement("img",{src:ne.a,alt:"TWG",width:200})),l.a.createElement("div",{className:"TW"==e?t:a},l.a.createElement("img",{src:oe.a,alt:"TW",width:200})),l.a.createElement("div",{className:"TG"==e?t:a},l.a.createElement("img",{src:re.a,alt:"TG",width:200})))}}]),t}(n.PureComponent),ce=(n.Component,a(15)),ue={channels:{}};function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"UPDATE_CHANNEL_REPLACE":var n=Object.assign({},a.channels),l=n[t.channel]?Object.assign({},n[t.channel]):{};return l[t.dataKey]=t.payload,n[t.channel]=l,a.channels=n,a;case"UPDATE_CHANNEL_ADD":var o=Object.assign({},a.channels);o[t.channel]||(o[t.channel]={});var i=Object.assign({},o[t.channel]);return i[t.dataKey]?i[t.dataKey].push(t.payload):i[t.dataKey]=[t.payload],o[t.channel]=i,a.channels=o,a;case"ADD_MSG_FNC":return console.log("adding message send function"),a.sendMessage=t.payload,a;case"CLEAN_CHANNEL":for(var r=Object.assign({},a.channels),s=Object.assign({},r[t.channel]),c=0;c<t.dataKeys.length;c++)delete s[t.dataKeys[c].val];return 0===Object.keys(s).length?delete r[t.channel]:r[t.channel]=s,a.channels=r,a;case"SET_STEPNR":return a.stepNr=t.stepNr,a;default:return e}}function de(e){return Object(ce.b)(Object(G.a)({data:he},e))}var pe=function(e){console.log("initial state: ",e);var t=Object(ce.c)(de([]),e);return t.asyncReducers={},t}({});console.log("store: ",pe.getState()),i.a.render(l.a.createElement(P.a,{store:pe},l.a.createElement($,null)),document.getElementById("dashboard"))},65:function(e,t,a){e.exports=a.p+"static/media/twg.e17e20d0.svg"},66:function(e,t,a){e.exports=a.p+"static/media/tw.943be1dd.svg"},67:function(e,t,a){e.exports=a.p+"static/media/tg.8aeafa3c.svg"},68:function(e,t,a){e.exports=a(125)},69:function(e,t,a){},97:function(e,t){}},[[68,2,1]]]);
//# sourceMappingURL=main.2423a087.chunk.js.map